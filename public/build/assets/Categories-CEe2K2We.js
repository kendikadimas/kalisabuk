import{c as Ke,b as be,u as Te,s as ce,j as t,H as Pe,L as Fe,r as Ee}from"./app-Czansj8V.js";import{A as Be}from"./app-sidebar-layout-D_a0VO35.js";import{B as o}from"./button-BtW8Mjcs.js";import{C as He,b as Le,c as Ie,d as Oe,a as ze}from"./card-DvYA06zv.js";import{D as ve,b as _e,a as qe,c as Ne,d as Se,e as Ce}from"./dialog-Czb9AKcD.js";import{I as ke}from"./input-DfAqIWcC.js";import{L as H}from"./label-1rALNs4L.js";import{T as ye}from"./textarea-BfZsd4A4.js";import{S as De}from"./switch-DEZZzKiz.js";import{A as Me,a as Re,b as $e,c as Ge,d as Je,e as Qe,f as Ue,g as Ve,h as We}from"./alert-dialog-CPF_Xs1O.js";import{A as Xe}from"./arrow-left-BGnJ-LKp.js";import{P as Ye}from"./plus-CWmDOyhO.js";import{P as Ze}from"./pencil-Dxhh-AA1.js";import{T as et}from"./trash-2-DkrXSdY_.js";import{M as tt}from"./mountain-51Aw2Uwx.js";import{S as st}from"./shopping-bag-Bf82UNik.js";/* empty css            */import"./index-exjhyw6m.js";import"./utils-Bf2-FoJv.js";import"./index-Co66lEQ7.js";import"./users-Cw0nNR3_.js";import"./createLucideIcon-DWqWQLaw.js";import"./file-text-CjE1ubWq.js";import"./building-2-D40mi_NU.js";import"./tag-C-eTHWak.js";import"./chart-pie-V8MXc8eV.js";import"./x-Pj5xj2P8.js";import"./index-DKE6HzA3.js";import"./use-sync-refs-C3Ze93HZ.js";function Ft(de){const e=Ke.c(107),{categories:me}=de;let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=[{title:"Dashboard",href:"/dashboard"},{title:"Potensi Desa",href:"/dashboard/potentials"},{title:"Kategori",href:"#"}],e[0]=O):O=e[0];const we=O,[he,z]=be.useState(!1),[L,q]=be.useState(null);let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M={name:"",description:"",is_active:!0},e[1]=M):M=e[1];const{data:i,setData:a,post:pe,put:xe,processing:c,errors:n,reset:l,clearErrors:d}=Te(M);let R;e[2]!==d||e[3]!==l?(R=()=>{l(),d(),z(!0)},e[2]=d,e[3]=l,e[4]=R):R=e[4];const fe=R;let $;e[5]!==d||e[6]!==l||e[7]!==a?($=s=>{l(),d(),q(s),a({name:s.name,description:s.description||"",is_active:!!s.is_active})},e[5]=d,e[6]=l,e[7]=a,e[8]=$):$=e[8];const I=$;let G;e[9]!==pe||e[10]!==l?(G=s=>{s.preventDefault(),pe(ce("potential-categories.store"),{onSuccess:()=>{z(!1),l()}})},e[9]=pe,e[10]=l,e[11]=G):G=e[11];const ue=G;let J;e[12]!==L||e[13]!==xe||e[14]!==l?(J=s=>{s.preventDefault(),L&&xe(ce("potential-categories.update",L.id),{onSuccess:()=>{q(null),l()}})},e[12]=L,e[13]=xe,e[14]=l,e[15]=J):J=e[15];const je=J,Ae=at;let Q;e[16]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Pe,{title:"Kategori Potensi Desa"}),e[16]=Q):Q=e[16];let U;e[17]===Symbol.for("react.memo_cache_sentinel")?(U=ce("potentials.index"),e[17]=U):U=e[17];let V;e[18]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Fe,{href:U,children:t.jsx(o,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl border-slate-200",children:t.jsx(Xe,{className:"w-5 h-5 text-slate-500"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Kategori Potensi"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola kategori untuk potensi dan produk desa."})]})]}),e[18]=V):V=e[18];let W;e[19]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Ye,{className:"w-4 h-4 mr-2"}),e[19]=W):W=e[19];let m;e[20]!==fe?(m=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[V,t.jsxs(o,{onClick:fe,className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[W,"Tambah Kategori"]})]}),e[20]=fe,e[21]=m):m=e[21];let h;if(e[22]!==me||e[23]!==I){let s;e[25]!==I?(s=r=>t.jsxs(He,{className:"hover:shadow-lg transition-shadow border-slate-200 overflow-hidden group",children:[t.jsxs(Le,{className:"bg-white pb-4 relative",children:[t.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(o,{variant:"ghost",size:"icon",onClick:()=>I(r),className:"h-8 w-8 text-slate-400 hover:text-blue-600",children:t.jsx(Ze,{className:"w-4 h-4"})}),t.jsxs(Me,{children:[t.jsx(Re,{asChild:!0,children:t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-red-600",children:t.jsx(et,{className:"w-4 h-4"})})}),t.jsxs($e,{children:[t.jsxs(Ge,{children:[t.jsx(Je,{children:"Hapus Kategori?"}),t.jsxs(Qe,{children:['Kategori "',r.name,'" akan dihapus. Pastikan tidak ada potensi yang menggunakan kategori ini.']})]}),t.jsxs(Ue,{children:[t.jsx(Ve,{children:"Batal"}),t.jsx(We,{onClick:()=>Ae(r.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]}),t.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center text-emerald-600 mb-4",children:r.slug==="wisata"||r.slug==="tourism"?t.jsx(tt,{className:"w-6 h-6"}):t.jsx(st,{className:"w-6 h-6"})}),t.jsx(Ie,{className:"text-xl text-slate-900",children:r.name}),t.jsx(Oe,{className:"line-clamp-2 mt-1",children:r.description||"Tidak ada deskripsi"})]}),t.jsx(ze,{children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 pt-4 border-t border-slate-100",children:[t.jsx("span",{children:"Status"}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${r.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:r.is_active?"Aktif":"Non-Aktif"})]})})]},r.id),e[25]=I,e[26]=s):s=e[26],h=me.map(s),e[22]=me,e[23]=I,e[24]=h}else h=e[24];let p;e[27]!==h?(p=t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h}),e[27]=h,e[28]=p):p=e[28];let X;e[29]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(ve,{children:[t.jsx(_e,{children:"Tambah Kategori"}),t.jsx(qe,{children:"Buat kategori baru untuk pengelompokan potensi desa."})]}),e[29]=X):X=e[29];let Y;e[30]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(H,{htmlFor:"name",children:["Nama Kategori ",t.jsx("span",{className:"text-red-500",children:"*"})]}),e[30]=Y):Y=e[30];let x;e[31]!==a?(x=s=>a("name",s.target.value),e[31]=a,e[32]=x):x=e[32];let f;e[33]!==i.name||e[34]!==x?(f=t.jsx(ke,{id:"name",value:i.name,onChange:x,placeholder:"Contoh: Kuliner, Kerajinan",required:!0}),e[33]=i.name,e[34]=x,e[35]=f):f=e[35];let u;e[36]!==n.name?(u=n.name&&t.jsx("p",{className:"text-red-500 text-xs",children:n.name}),e[36]=n.name,e[37]=u):u=e[37];let j;e[38]!==f||e[39]!==u?(j=t.jsxs("div",{className:"space-y-2",children:[Y,f,u]}),e[38]=f,e[39]=u,e[40]=j):j=e[40];let Z;e[41]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(H,{htmlFor:"description",children:"Deskripsi"}),e[41]=Z):Z=e[41];let g;e[42]!==a?(g=s=>a("description",s.target.value),e[42]=a,e[43]=g):g=e[43];let b;e[44]!==i.description||e[45]!==g?(b=t.jsxs("div",{className:"space-y-2",children:[Z,t.jsx(ye,{id:"description",value:i.description,onChange:g,placeholder:"Deskripsi singkat..."})]}),e[44]=i.description,e[45]=g,e[46]=b):b=e[46];let ee;e[47]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(H,{htmlFor:"active",className:"cursor-pointer",children:"Status Aktif"}),e[47]=ee):ee=e[47];let v;e[48]!==a?(v=s=>a("is_active",s),e[48]=a,e[49]=v):v=e[49];let _;e[50]!==i.is_active||e[51]!==v?(_=t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100",children:[ee,t.jsx(De,{id:"active",checked:i.is_active,onCheckedChange:v})]}),e[50]=i.is_active,e[51]=v,e[52]=_):_=e[52];let te;e[53]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(o,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Batal"}),e[53]=te):te=e[53];let N;e[54]!==c?(N=t.jsxs(Ne,{children:[te,t.jsx(o,{type:"submit",disabled:c,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan"})]}),e[54]=c,e[55]=N):N=e[55];let S;e[56]!==ue||e[57]!==j||e[58]!==b||e[59]!==_||e[60]!==N?(S=t.jsxs(Se,{children:[X,t.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[j,b,_,N]})]}),e[56]=ue,e[57]=j,e[58]=b,e[59]=_,e[60]=N,e[61]=S):S=e[61];let C;e[62]!==he||e[63]!==S?(C=t.jsx(Ce,{open:he,onOpenChange:z,children:S}),e[62]=he,e[63]=S,e[64]=C):C=e[64];const ge=!!L;let se;e[65]===Symbol.for("react.memo_cache_sentinel")?(se=s=>!s&&q(null),e[65]=se):se=e[65];let ae;e[66]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ve,{children:t.jsx(_e,{children:"Edit Kategori"})}),e[66]=ae):ae=e[66];let ie;e[67]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(H,{htmlFor:"edit-name",children:["Nama Kategori ",t.jsx("span",{className:"text-red-500",children:"*"})]}),e[67]=ie):ie=e[67];let k;e[68]!==a?(k=s=>a("name",s.target.value),e[68]=a,e[69]=k):k=e[69];let y;e[70]!==i.name||e[71]!==k?(y=t.jsx(ke,{id:"edit-name",value:i.name,onChange:k,required:!0}),e[70]=i.name,e[71]=k,e[72]=y):y=e[72];let D;e[73]!==n.name?(D=n.name&&t.jsx("p",{className:"text-red-500 text-xs",children:n.name}),e[73]=n.name,e[74]=D):D=e[74];let w;e[75]!==y||e[76]!==D?(w=t.jsxs("div",{className:"space-y-2",children:[ie,y,D]}),e[75]=y,e[76]=D,e[77]=w):w=e[77];let le;e[78]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(H,{htmlFor:"edit-description",children:"Deskripsi"}),e[78]=le):le=e[78];let A;e[79]!==a?(A=s=>a("description",s.target.value),e[79]=a,e[80]=A):A=e[80];let K;e[81]!==i.description||e[82]!==A?(K=t.jsxs("div",{className:"space-y-2",children:[le,t.jsx(ye,{id:"edit-description",value:i.description,onChange:A})]}),e[81]=i.description,e[82]=A,e[83]=K):K=e[83];let re;e[84]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(H,{htmlFor:"edit-active",className:"cursor-pointer",children:"Status Aktif"}),e[84]=re):re=e[84];let T;e[85]!==a?(T=s=>a("is_active",s),e[85]=a,e[86]=T):T=e[86];let P;e[87]!==i.is_active||e[88]!==T?(P=t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100",children:[re,t.jsx(De,{id:"edit-active",checked:i.is_active,onCheckedChange:T})]}),e[87]=i.is_active,e[88]=T,e[89]=P):P=e[89];let ne;e[90]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(o,{type:"button",variant:"outline",onClick:()=>q(null),children:"Batal"}),e[90]=ne):ne=e[90];let F;e[91]!==c?(F=t.jsxs(Ne,{children:[ne,t.jsx(o,{type:"submit",disabled:c,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan Perubahan"})]}),e[91]=c,e[92]=F):F=e[92];let E;e[93]!==je||e[94]!==w||e[95]!==K||e[96]!==P||e[97]!==F?(E=t.jsxs(Se,{children:[ae,t.jsxs("form",{onSubmit:je,className:"space-y-4",children:[w,K,P,F]})]}),e[93]=je,e[94]=w,e[95]=K,e[96]=P,e[97]=F,e[98]=E):E=e[98];let B;e[99]!==ge||e[100]!==E?(B=t.jsx(Ce,{open:ge,onOpenChange:se,children:E}),e[99]=ge,e[100]=E,e[101]=B):B=e[101];let oe;return e[102]!==m||e[103]!==p||e[104]!==C||e[105]!==B?(oe=t.jsxs(Be,{breadcrumbs:we,children:[Q,t.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[m,p,C,B]})]}),e[102]=m,e[103]=p,e[104]=C,e[105]=B,e[106]=oe):oe=e[106],oe}function at(de){Ee.delete(ce("potential-categories.destroy",de),{preserveScroll:!0})}export{Ft as default};
