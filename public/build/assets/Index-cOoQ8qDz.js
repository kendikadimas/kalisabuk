import{c as w,j as e,L as o,s as f,H as v,r as _}from"./app-D4bN57ve.js";import{f as g,D as y,a as D,b as k,d as p,A}from"./app-sidebar-layout-BYGjnVlD.js";import{B as u}from"./button-CyZy5J_8.js";import{C,a as B,e as S}from"./card-BJ_vQnqq.js";import{A as T,a as E,b as H,c as L,d as M,e as P,f as $,g as I,h as K}from"./alert-dialog-D8qcvvaT.js";import{C as z}from"./calendar-BMKb_ilJ.js";import{P as j}from"./pencil-DyuDJb8F.js";import{E as F}from"./ellipsis-CCwKVvqk.js";import{E as O}from"./eye-Cycyjvtm.js";import{T as R}from"./trash-2-yIjYVG0c.js";import{P as W}from"./plus-9muBJBEp.js";/* empty css            */import"./index-DilpVWtq.js";import"./utils-BLOsG20Y.js";import"./index-CoynypC8.js";import"./users-38VqcemO.js";import"./createLucideIcon-CmpMrcaG.js";import"./file-text-DhmEM4eV.js";import"./building-2-DPSPWvYf.js";import"./tag-Di7kuggs.js";import"./chart-pie-E4S0CZq4.js";import"./x-B67BCiru.js";import"./index-BeroPM8L.js";function ge(l){const s=w.c(15),{posts:a}=l;let d;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Dashboard",href:"/dashboard"},{title:"Berita",href:"/dashboard/posts"}],s[0]=d):d=s[0];const b=d,N=J;let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(v,{title:"Kelola Berita"}),s[1]=c):c=s[1];let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:"Kelola Berita"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola berita, artikel, dan informasi publik desa."})]}),s[2]=m):m=s[2];let h;s[3]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m,e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{href:"/dashboard/posts/create",children:e.jsxs(u,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Tulis Berita"]})})})]}),s[3]=h):h=s[3];let r;s[4]!==a.data?(r=a.data.length>0?a.data.map(t=>e.jsxs(C,{className:"group overflow-hidden border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 rounded-2xl flex flex-col h-full",children:[e.jsx("div",{className:"relative h-48 w-full bg-slate-100 overflow-hidden",children:t.image_path?e.jsx("img",{src:t.image_path.startsWith("http")?t.image_path:`/storage/${t.image_path}`,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx(g,{className:"w-12 h-12"})})}),e.jsxs(B,{className:"p-5 flex-1 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 leading-tight group-hover:text-emerald-600 transition-colors",children:t.title}),e.jsx("p",{className:"text-slate-500 text-sm line-clamp-3 leading-relaxed",children:t.content?t.content.replace(/<[^>]*>?/gm,""):"Tidak ada deskripsi singkat."}),e.jsxs("div",{className:"mt-auto pt-2 flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(z,{className:"w-3.5 h-3.5"}),t.published_at?new Date(t.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Draft"]})]}),e.jsxs(S,{className:"p-4 pt-0 border-t border-slate-100 mt-auto bg-slate-50/50 flex justify-between items-center",children:[e.jsx(o,{href:f("posts.edit",t.id),children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-emerald-600 hover:bg-white text-xs gap-2",children:[e.jsx(j,{className:"w-3.5 h-3.5"}),"Edit"]})}),e.jsxs(y,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(u,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-white",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(F,{className:"h-4 w-4"})]})}),e.jsxs(k,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(o,{href:`/berita/${t.slug}`,target:"_blank",className:"cursor-pointer",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Lihat Berita"]})}),e.jsx(p,{asChild:!0,children:e.jsxs(o,{href:f("posts.edit",t.id),className:"cursor-pointer",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(T,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(p,{onSelect:G,className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Hapus"]})}),e.jsxs(H,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Hapus Berita?"}),e.jsx(P,{children:"Apakah Anda yakin ingin menghapus berita ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs($,{children:[e.jsx(I,{children:"Batal"}),e.jsx(K,{onClick:()=>N(t.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]})]})]})]},t.id)):e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-8 h-8 text-slate-300"})}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Belum ada berita yang dipublikasikan."}),e.jsx(o,{href:"/dashboard/posts/create",className:"text-emerald-600 text-sm font-medium hover:underline mt-2 inline-block",children:"Mulai menulis berita"})]}),s[4]=a.data,s[5]=r):r=s[5];let i;s[6]!==r?(i=e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r}),s[6]=r,s[7]=i):i=s[7];let n;s[8]!==a.current_page||s[9]!==a.last_page||s[10]!==a.links?(n=a.links&&a.links.length>3&&e.jsx("div",{className:"bg-slate-50/50 px-6 py-4 border-t border-slate-200 mt-8 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Halaman ",a.current_page," dari ",a.last_page]}),e.jsx("div",{className:"flex gap-1",children:a.links.map(q)})]})}),s[8]=a.current_page,s[9]=a.last_page,s[10]=a.links,s[11]=n):n=s[11];let x;return s[12]!==i||s[13]!==n?(x=e.jsxs(A,{breadcrumbs:b,children:[c,e.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[h,i,n]})]}),s[12]=i,s[13]=n,s[14]=x):x=s[14],x}function q(l,s){return e.jsx(o,{href:l.url||"#",className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${l.active?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"} ${!l.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l.label}},s)}function G(l){return l.preventDefault()}function J(l){_.delete(f("posts.destroy",l),{preserveScroll:!0})}export{ge as default};
