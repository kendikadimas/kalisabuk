import{c as Le,a as He,u as Je,b as S,j as t,r as he,H as Me}from"./app-C5sUFJ5V.js";import{A as Re}from"./app-layout-CyGM1CYw.js";import{B as k}from"./button-l9wHiYJO.js";import{I as i}from"./input-R9wGcSUD.js";import{L as ue}from"./label-Do7QbfUW.js";import{C as Ae}from"./check-P-6TNM17.js";import{e as We}from"./app-sidebar-layout-CUXnBwbe.js";import{S as Ue}from"./save-DDg-svlU.js";import{c as Ve}from"./createLucideIcon-CtEeOim6.js";import{X as De}from"./x-C0xfHhzg.js";import{P as $e}from"./pencil-CrL529U6.js";import{T as qe}from"./trash-2-CLTceEp0.js";import{P as Ge}from"./plus-1JaxGBIx.js";/* empty css            */import"./utils-DuzdsnVK.js";import"./index-o_BmEExy.js";import"./index-DTa_VXqO.js";import"./users-7zoLk8Ah.js";import"./file-text-BN0pkRk0.js";import"./building-2-BEcXiyBU.js";import"./tag-D_zAtn1T.js";import"./chart-pie-BLINwe6x.js";const Xe=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ze=Ve("FolderPlus",Xe);function yt(b){const e=Le.c(129),{villageInfo:r,types:m}=b;let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=[{title:"Dashboard",href:"/dashboard"},{title:"Statistik & Demografi",href:"/dashboard/demographics"}],e[0]=x):x=e[0];const de=x,{flash:p}=He().props,v=r?.population||0,j=r?.area_size||"",_=r?.founded_year||"",n=r?.village_status||"",E=r?.rt_count||0,d=r?.rw_count||0,I=r?.hamlet_count||0,y=r?.boundary_north||"",N=r?.boundary_south||"",f=r?.boundary_east||"",w=r?.boundary_west||"";let B;e[1]!==N||e[2]!==f||e[3]!==w||e[4]!==v||e[5]!==j||e[6]!==_||e[7]!==n||e[8]!==E||e[9]!==d||e[10]!==I||e[11]!==y?(B={population:v,area_size:j,founded_year:_,village_status:n,rt_count:E,rw_count:d,hamlet_count:I,boundary_north:y,boundary_south:N,boundary_east:f,boundary_west:w},e[1]=N,e[2]=f,e[3]=w,e[4]=v,e[5]=j,e[6]=_,e[7]=n,e[8]=E,e[9]=d,e[10]=I,e[11]=y,e[12]=B):B=e[12];const{data:a,setData:s,post:u,processing:c}=Je(B);let o;e[13]!==u?(o=l=>{l.preventDefault(),u(route("stats.general.update"))},e[13]=u,e[14]=o):o=e[14];const Ee=o,[C,Pe]=S.useState(""),[h,Ie]=S.useState(!1),[ce,Be]=S.useState(null),[g,ze]=S.useState("");let xe;e[15]!==C?(xe=()=>{C.trim()&&he.post(route("demographic-types.store"),{name:C},{onSuccess:()=>{Pe(""),Ie(!1)}})},e[15]=C,e[16]=xe):xe=e[16];const Fe=xe,Te=Oe;let pe;e[17]===Symbol.for("react.memo_cache_sentinel")?(pe=l=>{Be(l.id),ze(l.name)},e[17]=pe):pe=e[17];const Ke=pe;let fe;e[18]!==g?(fe=l=>{he.put(route("demographic-types.update",l),{name:g},{onSuccess:()=>Be(null)})},e[18]=g,e[19]=fe):fe=e[19];const me=fe;let ge;e[20]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Me,{title:"Kelola Statistik Website"}),e[20]=ge):ge=e[20];let F;e[21]!==p?(F=p?.success&&t.jsxs("div",{className:"rounded-xl bg-emerald-50 border border-emerald-200 p-4 text-sm text-emerald-800 flex items-center gap-2",children:[t.jsx(Ae,{className:"w-5 h-5 text-emerald-600"}),p.success]}),e[21]=p,e[22]=F):F=e[22];let be;e[23]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-slate-100 pb-4",children:[t.jsx(We,{className:"w-5 h-5 text-emerald-600"}),t.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Statistik Umum Desa"})]}),e[23]=be):be=e[23];let ve;e[24]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(ue,{htmlFor:"population",children:"Total Penduduk (Jiwa)"}),e[24]=ve):ve=e[24];let D;e[25]!==s?(D=l=>s("population",l.target.value),e[25]=s,e[26]=D):D=e[26];let P;e[27]!==a.population||e[28]!==D?(P=t.jsxs("div",{className:"space-y-2",children:[ve,t.jsx(i,{id:"population",type:"number",value:a.population,onChange:D})]}),e[27]=a.population,e[28]=D,e[29]=P):P=e[29];let je;e[30]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(ue,{htmlFor:"area_size",children:"Luas Wilayah"}),e[30]=je):je=e[30];let z;e[31]!==s?(z=l=>s("area_size",l.target.value),e[31]=s,e[32]=z):z=e[32];let L;e[33]!==a.area_size||e[34]!==z?(L=t.jsxs("div",{className:"space-y-2",children:[je,t.jsx(i,{id:"area_size",value:a.area_size,onChange:z})]}),e[33]=a.area_size,e[34]=z,e[35]=L):L=e[35];let _e;e[36]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(ue,{htmlFor:"hamlet_count",children:"Jumlah Dusun"}),e[36]=_e):_e=e[36];let A;e[37]!==s?(A=l=>s("hamlet_count",l.target.value),e[37]=s,e[38]=A):A=e[38];let T;e[39]!==a.hamlet_count||e[40]!==A?(T=t.jsxs("div",{className:"space-y-2",children:[_e,t.jsx(i,{id:"hamlet_count",type:"number",value:a.hamlet_count,onChange:A})]}),e[39]=a.hamlet_count,e[40]=A,e[41]=T):T=e[41];let ye;e[42]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(ue,{htmlFor:"rt_count",children:"Jumlah RT"}),e[42]=ye):ye=e[42];let K;e[43]!==s?(K=l=>s("rt_count",l.target.value),e[43]=s,e[44]=K):K=e[44];let H;e[45]!==a.rt_count||e[46]!==K?(H=t.jsxs("div",{className:"space-y-2",children:[ye,t.jsx(i,{id:"rt_count",type:"number",value:a.rt_count,onChange:K})]}),e[45]=a.rt_count,e[46]=K,e[47]=H):H=e[47];let Ne;e[48]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(ue,{htmlFor:"rw_count",children:"Jumlah RW"}),e[48]=Ne):Ne=e[48];let J;e[49]!==s?(J=l=>s("rw_count",l.target.value),e[49]=s,e[50]=J):J=e[50];let M;e[51]!==a.rw_count||e[52]!==J?(M=t.jsxs("div",{className:"space-y-2",children:[Ne,t.jsx(i,{id:"rw_count",type:"number",value:a.rw_count,onChange:J})]}),e[51]=a.rw_count,e[52]=J,e[53]=M):M=e[53];let R;e[54]!==P||e[55]!==L||e[56]!==T||e[57]!==H||e[58]!==M?(R=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[P,L,T,H,M]}),e[54]=P,e[55]=L,e[56]=T,e[57]=H,e[58]=M,e[59]=R):R=e[59];let we;e[60]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("h4",{className:"font-medium text-slate-700 pt-4 border-t border-slate-100",children:"Batas Wilayah"}),e[60]=we):we=e[60];let W;e[61]!==s?(W=l=>s("boundary_north",l.target.value),e[61]=s,e[62]=W):W=e[62];let U;e[63]!==a.boundary_north||e[64]!==W?(U=t.jsx(i,{placeholder:"Utara",value:a.boundary_north,onChange:W}),e[63]=a.boundary_north,e[64]=W,e[65]=U):U=e[65];let V;e[66]!==s?(V=l=>s("boundary_south",l.target.value),e[66]=s,e[67]=V):V=e[67];let $;e[68]!==a.boundary_south||e[69]!==V?($=t.jsx(i,{placeholder:"Selatan",value:a.boundary_south,onChange:V}),e[68]=a.boundary_south,e[69]=V,e[70]=$):$=e[70];let q;e[71]!==s?(q=l=>s("boundary_east",l.target.value),e[71]=s,e[72]=q):q=e[72];let G;e[73]!==a.boundary_east||e[74]!==q?(G=t.jsx(i,{placeholder:"Timur",value:a.boundary_east,onChange:q}),e[73]=a.boundary_east,e[74]=q,e[75]=G):G=e[75];let X;e[76]!==s?(X=l=>s("boundary_west",l.target.value),e[76]=s,e[77]=X):X=e[77];let Z;e[78]!==a.boundary_west||e[79]!==X?(Z=t.jsx(i,{placeholder:"Barat",value:a.boundary_west,onChange:X}),e[78]=a.boundary_west,e[79]=X,e[80]=Z):Z=e[80];let O;e[81]!==U||e[82]!==$||e[83]!==G||e[84]!==Z?(O=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U,$,G,Z]}),e[81]=U,e[82]=$,e[83]=G,e[84]=Z,e[85]=O):O=e[85];let Q;e[86]!==c?(Q=c?"Menyimpan...":t.jsxs(t.Fragment,{children:[t.jsx(Ue,{className:"w-4 h-4 mr-2"})," Simpan Statistik Umum"]}),e[86]=c,e[87]=Q):Q=e[87];let Y;e[88]!==c||e[89]!==Q?(Y=t.jsx("div",{className:"flex justify-end",children:t.jsx(k,{type:"submit",disabled:c,className:"bg-slate-900 text-white",children:Q})}),e[88]=c,e[89]=Q,e[90]=Y):Y=e[90];let ee;e[91]!==Ee||e[92]!==R||e[93]!==O||e[94]!==Y?(ee=t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[be,t.jsxs("form",{onSubmit:Ee,className:"space-y-6",children:[R,we,O,Y]})]}),e[91]=Ee,e[92]=R,e[93]=O,e[94]=Y,e[95]=ee):ee=e[95];let Ce;e[96]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Data Demografi Khusus"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Buat kartu kategori dan isi data demografi di dalamnya."})]}),e[96]=Ce):Ce=e[96];let te;e[97]!==h?(te=()=>Ie(!h),e[97]=h,e[98]=te):te=e[98];let Se;e[99]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(Ze,{className:"w-4 h-4 mr-2"}),e[99]=Se):Se=e[99];let ae;e[100]!==te?(ae=t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ce,t.jsxs(k,{onClick:te,variant:"outline",className:"border-dashed border-slate-300 hover:bg-emerald-50 hover:text-emerald-600 hover:border-emerald-200",children:[Se," Buat Kategori Baru"]})]}),e[100]=te,e[101]=ae):ae=e[101];let se;e[102]!==Fe||e[103]!==h||e[104]!==C?(se=h&&t.jsxs("div",{className:"bg-emerald-50/50 border border-emerald-100 p-4 rounded-xl mb-6 flex gap-3 items-center animate-in fade-in slide-in-from-top-2",children:[t.jsx(i,{autoFocus:!0,placeholder:"Nama Kategori (Contoh: Tingkat Pendidikan, Pekerjaan, Agama)",className:"max-w-md bg-white",value:C,onChange:l=>Pe(l.target.value)}),t.jsx(k,{onClick:Fe,className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Buat"}),t.jsx(k,{variant:"ghost",onClick:()=>Ie(!1),children:t.jsx(De,{className:"w-4 h-4"})})]}),e[102]=Fe,e[103]=h,e[104]=C,e[105]=se):se=e[105];let le;if(e[106]!==g||e[107]!==ce||e[108]!==me||e[109]!==m){let l;e[111]!==g||e[112]!==ce||e[113]!==me?(l=ne=>t.jsx(Qe,{type:ne,onDelete:()=>Te(ne.id),isEditing:ce===ne.id,editName:g,onEditNameChange:ze,onStartEdit:()=>Ke(ne),onSaveEdit:()=>me(ne.id),onCancelEdit:()=>Be(null)},ne.id),e[111]=g,e[112]=ce,e[113]=me,e[114]=l):l=e[114],le=m.map(l),e[106]=g,e[107]=ce,e[108]=me,e[109]=m,e[110]=le}else le=e[110];let re;e[115]!==h||e[116]!==m.length?(re=m.length===0&&!h&&t.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 border-2 border-dashed border-slate-200 rounded-2xl bg-slate-50/50",children:'Belum ada kategori data. Klik tombol "Buat Kategori Baru" di atas.'}),e[115]=h,e[116]=m.length,e[117]=re):re=e[117];let oe;e[118]!==le||e[119]!==re?(oe=t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-start",children:[le,re]}),e[118]=le,e[119]=re,e[120]=oe):oe=e[120];let ie;e[121]!==ae||e[122]!==se||e[123]!==oe?(ie=t.jsxs("div",{children:[ae,se,oe]}),e[121]=ae,e[122]=se,e[123]=oe,e[124]=ie):ie=e[124];let ke;return e[125]!==F||e[126]!==ee||e[127]!==ie?(ke=t.jsxs(Re,{breadcrumbs:de,children:[ge,t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-10 p-6 max-w-7xl mx-auto w-full pb-20",children:[F,ee,ie]})]}),e[125]=F,e[126]=ee,e[127]=ie,e[128]=ke):ke=e[128],ke}function Oe(b){confirm("Hapus kategori ini? Semua data di dalamnya juga akan terhapus.")&&he.delete(route("demographic-types.destroy",b))}function Qe(b){const e=Le.c(24),{type:r,onDelete:m,isEditing:x,editName:de,onEditNameChange:p,onStartEdit:v,onSaveEdit:j,onCancelEdit:_}=b,[n,E]=S.useState(""),[d,I]=S.useState(""),[y,N]=S.useState(!1);let f;e[0]!==n||e[1]!==d||e[2]!==r.id?(f=()=>{!n.trim()||!d||he.post(route("demographics.store"),{demographic_type_id:r.id,label:n,value:parseInt(d)},{preserveScroll:!0,onSuccess:()=>{E(""),I(""),N(!1)}})},e[0]=n,e[1]=d,e[2]=r.id,e[3]=f):f=e[3];const w=f,B=Ye;let a;e[4]!==de||e[5]!==x||e[6]!==_||e[7]!==m||e[8]!==p||e[9]!==j||e[10]!==v||e[11]!==r.name?(a=t.jsx("div",{className:"bg-slate-50 px-5 py-3 border-b border-slate-100 flex items-center justify-between min-h-[56px]",children:x?t.jsxs("div",{className:"flex items-center gap-2 w-full",children:[t.jsx(i,{value:de,onChange:o=>p(o.target.value),className:"h-8 text-sm",autoFocus:!0}),t.jsx("button",{onClick:j,className:"p-1.5 bg-emerald-100 text-emerald-700 rounded-md hover:bg-emerald-200",children:t.jsx(Ae,{className:"w-4 h-4"})}),t.jsx("button",{onClick:_,className:"p-1.5 text-slate-400 hover:text-slate-600",children:t.jsx(De,{className:"w-4 h-4"})})]}):t.jsxs(t.Fragment,{children:[t.jsx("h4",{className:"font-bold text-slate-800 line-clamp-1",title:r.name,children:r.name}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:v,className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",children:t.jsx($e,{className:"w-4 h-4"})}),t.jsx("button",{onClick:m,className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",children:t.jsx(qe,{className:"w-4 h-4"})})]})]})}),e[4]=de,e[5]=x,e[6]=_,e[7]=m,e[8]=p,e[9]=j,e[10]=v,e[11]=r.name,e[12]=a):a=e[12];let s;e[13]!==r.demographics?(s=t.jsx("div",{className:"flex-1 p-0 overflow-y-auto max-h-[300px]",children:r.demographics&&r.demographics.length>0?t.jsx("table",{className:"w-full text-sm",children:t.jsx("tbody",{className:"divide-y divide-slate-50",children:r.demographics.map(o=>t.jsxs("tr",{className:"group hover:bg-slate-50",children:[t.jsx("td",{className:"px-5 py-3 text-slate-700 font-medium",children:o.label}),t.jsx("td",{className:"px-5 py-3 text-right text-slate-500 font-mono",children:o.value.toLocaleString()}),t.jsx("td",{className:"px-2 py-3 w-8 text-right opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx("button",{onClick:()=>B(o.id),className:"text-red-400 hover:text-red-600",children:t.jsx(De,{className:"w-4 h-4"})})})]},o.id))})}):t.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"Belum ada data."})}),e[13]=r.demographics,e[14]=s):s=e[14];let u;e[15]!==w||e[16]!==y||e[17]!==n||e[18]!==d?(u=t.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50/30",children:y?t.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-bottom-2",children:[t.jsx(i,{placeholder:"Label (Contoh: Petani)",value:n,onChange:o=>E(o.target.value),className:"bg-white",autoFocus:!0}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(i,{type:"number",placeholder:"Jumlah",value:d,onChange:o=>I(o.target.value),className:"bg-white"}),t.jsx(k,{onClick:w,size:"sm",className:"bg-emerald-600 text-white hover:bg-emerald-700",children:"Simpan"}),t.jsx(k,{onClick:()=>N(!1),size:"sm",variant:"ghost",children:"Batal"})]})]}):t.jsxs(k,{onClick:()=>N(!0),variant:"ghost",className:"w-full text-slate-500 hover:text-emerald-600 hover:bg-emerald-50 border border-transparent hover:border-emerald-100 border-dashed",children:[t.jsx(Ge,{className:"w-4 h-4 mr-2"})," Tambah Data Item"]})}),e[15]=w,e[16]=y,e[17]=n,e[18]=d,e[19]=u):u=e[19];let c;return e[20]!==a||e[21]!==s||e[22]!==u?(c=t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col h-full",children:[a,s,u]}),e[20]=a,e[21]=s,e[22]=u,e[23]=c):c=e[23],c}function Ye(b){confirm("Hapus item data ini?")&&he.delete(route("demographics.destroy",b),{preserveScroll:!0})}export{yt as default};
