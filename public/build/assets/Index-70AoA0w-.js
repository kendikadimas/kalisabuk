import{c as v,j as e,L as r,s as g,H as _,r as y}from"./app-l_r44Tta.js";import{D,a as k,b as A,d as f,A as C}from"./app-sidebar-layout-CELMoP9V.js";import{B as u}from"./button-rFL2r0LF.js";import{C as B,a as S,e as T}from"./card-Dz5_2j39.js";import{B as E}from"./badge-BEAsJpim.js";import{A as H,a as L,b as M,c as P,d as K,e as $,f as I,g as z,h as F}from"./alert-dialog-hdSVmFnX.js";import{a as j}from"./megaphone-CIBuywf6.js";import{C as O}from"./calendar-_v-_5hio.js";import{P as b}from"./pencil-CcQttdl9.js";import{E as R}from"./ellipsis-RwdNUORg.js";import{E as W}from"./eye-BmLRw14S.js";import{T as q}from"./trash-2-UVBwinBZ.js";import{P as G}from"./plus-CtC8UoKy.js";/* empty css            */import"./index-rJEZdxyx.js";import"./utils-Bev5jZCE.js";import"./index-C6gsZ6l_.js";import"./file-text-CACgX_in.js";import"./createLucideIcon-CnD_5xEh.js";import"./users-BE9RTcez.js";import"./building-2-CHKmSFZ9.js";import"./tag-m4tYlLRa.js";import"./x-BdGwfma3.js";import"./chevron-right-BAycoYV7.js";import"./index-CHnsnSIb.js";function we(l){const a=v.c(16),{posts:t}=l;let d;a[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Dashboard",href:"/dashboard"},{title:"Berita",href:"/dashboard/posts"}],a[0]=d):d=a[0];const N=d,w=U;let c;a[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(_,{title:"Kelola Berita"}),a[1]=c):c=a[1];let m;a[2]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:"Kelola Berita"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola berita, artikel, dan informasi publik desa."})]}),a[2]=m):m=a[2];let h;a[3]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(r,{href:"/dashboard/post-categories",children:e.jsx(u,{variant:"outline",className:"border-slate-200 text-slate-700 hover:bg-slate-50 hover:text-emerald-700 rounded-xl",children:"Kelola Kategori"})}),a[3]=h):h=a[3];let x;a[4]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m,e.jsxs("div",{className:"flex items-center gap-2",children:[h,e.jsx(r,{href:"/dashboard/posts/create",children:e.jsxs(u,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Tulis Berita"]})})]})]}),a[4]=x):x=a[4];let i;a[5]!==t.data?(i=t.data.length>0?t.data.map(s=>e.jsxs(B,{className:"group overflow-hidden border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 rounded-2xl flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-48 w-full bg-slate-100 overflow-hidden",children:[s.image_path?e.jsx("img",{src:s.image_path.startsWith("http")?s.image_path:`/storage/${s.image_path}`,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx(j,{className:"w-12 h-12"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(E,{variant:"secondary",className:"bg-white/90 backdrop-blur text-slate-700 shadow-sm text-xs font-normal",children:s.category_data?s.category_data.name:s.category==="news"?"Berita Desa":"Pengumuman"})})]}),e.jsxs(S,{className:"p-5 flex-1 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 leading-tight group-hover:text-emerald-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-slate-500 text-sm line-clamp-3 leading-relaxed",children:s.content?s.content.replace(/<[^>]*>?/gm,""):"Tidak ada deskripsi singkat."}),e.jsxs("div",{className:"mt-auto pt-2 flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(O,{className:"w-3.5 h-3.5"}),s.published_at?new Date(s.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Draft"]})]}),e.jsxs(T,{className:"p-4 pt-0 border-t border-slate-100 mt-auto bg-slate-50/50 flex justify-between items-center",children:[e.jsx(r,{href:g("posts.edit",s.id),children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-emerald-600 hover:bg-white text-xs gap-2",children:[e.jsx(b,{className:"w-3.5 h-3.5"}),"Edit"]})}),e.jsxs(D,{children:[e.jsx(k,{asChild:!0,children:e.jsxs(u,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-white",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(R,{className:"h-4 w-4"})]})}),e.jsxs(A,{align:"end",children:[e.jsx(f,{asChild:!0,children:e.jsxs(r,{href:`/berita/${s.slug}`,target:"_blank",className:"cursor-pointer",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Lihat Berita"]})}),e.jsx(f,{asChild:!0,children:e.jsxs(r,{href:g("posts.edit",s.id),className:"cursor-pointer",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(H,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(f,{onSelect:Q,className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Hapus"]})}),e.jsxs(M,{children:[e.jsxs(P,{children:[e.jsx(K,{children:"Hapus Berita?"}),e.jsx($,{children:"Apakah Anda yakin ingin menghapus berita ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(I,{children:[e.jsx(z,{children:"Batal"}),e.jsx(F,{onClick:()=>w(s.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]})]})]})]},s.id)):e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{className:"w-8 h-8 text-slate-300"})}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Belum ada berita yang dipublikasikan."}),e.jsx(r,{href:"/dashboard/posts/create",className:"text-emerald-600 text-sm font-medium hover:underline mt-2 inline-block",children:"Mulai menulis berita"})]}),a[5]=t.data,a[6]=i):i=a[6];let n;a[7]!==i?(n=e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i}),a[7]=i,a[8]=n):n=a[8];let o;a[9]!==t.current_page||a[10]!==t.last_page||a[11]!==t.links?(o=t.links&&t.links.length>3&&e.jsx("div",{className:"bg-slate-50/50 px-6 py-4 border-t border-slate-200 mt-8 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Halaman ",t.current_page," dari ",t.last_page]}),e.jsx("div",{className:"flex gap-1",children:t.links.map(J)})]})}),a[9]=t.current_page,a[10]=t.last_page,a[11]=t.links,a[12]=o):o=a[12];let p;return a[13]!==n||a[14]!==o?(p=e.jsxs(C,{breadcrumbs:N,children:[c,e.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[x,n,o]})]}),a[13]=n,a[14]=o,a[15]=p):p=a[15],p}function J(l,a){return e.jsx(r,{href:l.url||"#",className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${l.active?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"} ${!l.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l.label}},a)}function Q(l){return l.preventDefault()}function U(l){y.delete(g("posts.destroy",l),{preserveScroll:!0})}export{we as default};
