import{c as P,a as B,d as I,j as e,L as q,r as E,H as R}from"./app-wMitSoFD.js";import{A as H}from"./app-sidebar-layout-BbQeEfgX.js";import{I as A}from"./input-CsQPc2yx.js";import{B as _}from"./button-1J01fJaS.js";import{T as w,a as t,b as K,c as n,d as z,e as F}from"./table-BoVUhnLZ.js";import{B as N}from"./badge-D_FroVm9.js";import{C as J,a as W}from"./card-DRineok-.js";import{s as S}from"./index-BsxvijQw.js";import{F as C}from"./file-text-BnZf7e92.js";import{C as X}from"./calendar-D5g33OOv.js";import{E as $}from"./eye-BtjLmAc8.js";import{S as G}from"./tag-CTFQvZyi.js";import{C as M}from"./clock-BA4s8leg.js";import{C as O}from"./circle-x-BrTPmk5J.js";import{L as Q}from"./loader-circle-Bze7PITU.js";import{C as U}from"./circle-check-CBxBwqhM.js";/* empty css            */import"./index-D-uiGpvt.js";import"./utils-BFhDRwOJ.js";import"./index-_U3BcEoK.js";import"./megaphone-D0iDg38j.js";import"./createLucideIcon-BxuBKbhL.js";import"./building-2-CGqPBoF8.js";import"./users-BraN2y7E.js";import"./x-Cj8rK13U.js";import"./chevron-right-36mRntCf.js";function _e(v){const s=P.c(21),{requests:m,filters:k}=v;let d;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Dashboard",href:"/dashboard"},{title:"Permohonan Layanan",href:"/dashboard/service-requests"}],s[0]=d):d=s[0];const T=d;B();const[r,D]=I.useState(k.search||"");let x;s[1]!==r?(x=a=>{a.preventDefault(),E.get(S("service-requests.index"),{search:r},{preserveState:!0})},s[1]=r,s[2]=x):x=s[2];const y=x,L=V;let h;s[3]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(R,{title:"Permohonan Layanan"}),s[3]=h):h=s[3];let f;s[4]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:"Permohonan Warga"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Daftar permohonan layanan surat yang diajukan oleh warga."})]})}),s[4]=f):f=s[4];let p;s[5]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(G,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),s[5]=p):p=s[5];let j;s[6]===Symbol.for("react.memo_cache_sentinel")?(j=a=>D(a.target.value),s[6]=j):j=s[6];let l;s[7]!==r?(l=e.jsxs("div",{className:"relative flex-1",children:[p,e.jsx(A,{className:"pl-9 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20 rounded-lg",placeholder:"Cari Tiket / NIK / Nama Pemohon...",value:r,onChange:j})]}),s[7]=r,s[8]=l):l=s[8];let b;s[9]===Symbol.for("react.memo_cache_sentinel")?(b=e.jsx(_,{type:"submit",variant:"outline",className:"border-slate-200 hover:bg-emerald-50 hover:text-emerald-600 hover:border-emerald-200",children:"Cari Data"}),s[9]=b):b=s[9];let o;s[10]!==y||s[11]!==l?(o=e.jsx(J,{className:"border-slate-200 shadow-sm rounded-xl",children:e.jsx(W,{className:"p-4",children:e.jsxs("form",{onSubmit:y,className:"flex flex-col sm:flex-row gap-4",children:[l,b]})})}),s[10]=y,s[11]=l,s[12]=o):o=s[12];let u;s[13]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsx(K,{className:"bg-slate-50/50",children:e.jsxs(w,{children:[e.jsx(n,{className:"w-[150px]",children:"Kode Tiket"}),e.jsx(n,{children:"Pemohon"}),e.jsx(n,{children:"Jenis Layanan"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Tanggal"}),e.jsx(n,{className:"text-right",children:"Aksi"})]})}),s[13]=u):u=s[13];let c;s[14]!==m.data?(c=m.data.length>0?m.data.map(a=>e.jsxs(w,{className:"hover:bg-slate-50/50",children:[e.jsxs(t,{className:"font-mono font-bold text-emerald-600",children:["#",a.ticket_code]}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900",children:a.citizen_name}),e.jsxs("span",{className:"text-xs text-slate-500 font-mono",children:["NIK: ",a.citizen_nik]})]})}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[e.jsx(C,{className:"w-4 h-4 text-emerald-500"}),a.service_type?.name]})}),e.jsx(t,{children:L(a.status)}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[e.jsx(X,{className:"w-3.5 h-3.5"}),new Date(a.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})}),e.jsx(t,{className:"text-right",children:e.jsx(q,{href:S("service-requests.edit",a.id),children:e.jsxs(_,{variant:"ghost",className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 h-8 gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Review"]})})})]},a.id)):e.jsx(w,{children:e.jsx(t,{colSpan:6,className:"h-48 text-center text-slate-500",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-50 flex items-center justify-center mx-auto mb-3",children:e.jsx(C,{className:"w-6 h-6 text-slate-300"})}),e.jsx("p",{className:"font-medium",children:"Belum ada permohonan layanan"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Permohonan yang diajukan akan muncul di sini."})]})})}),s[14]=m.data,s[15]=c):c=s[15];let i;s[16]!==c?(i=e.jsx("div",{className:"bg-white shadow-sm rounded-2xl border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(z,{children:[u,e.jsx(F,{children:c})]})})}),s[16]=c,s[17]=i):i=s[17];let g;return s[18]!==i||s[19]!==o?(g=e.jsxs(H,{breadcrumbs:T,children:[h,e.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[f,o,i]})]}),s[18]=i,s[19]=o,s[20]=g):g=s[20],g}function V(v){switch(v){case"completed":return e.jsxs(N,{className:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 border-emerald-200 gap-1",children:[e.jsx(U,{className:"w-3 h-3"})," Selesai"]});case"processed":return e.jsxs(N,{className:"bg-blue-100 text-blue-700 hover:bg-blue-200 border-blue-200 gap-1",children:[e.jsx(Q,{className:"w-3 h-3 animate-spin"})," Diproses"]});case"rejected":return e.jsxs(N,{className:"bg-red-100 text-red-700 hover:bg-red-200 border-red-200 gap-1",children:[e.jsx(O,{className:"w-3 h-3"})," Ditolak"]});default:return e.jsxs(N,{className:"bg-amber-100 text-amber-700 hover:bg-amber-200 border-amber-200 gap-1",children:[e.jsx(M,{className:"w-3 h-3"})," Pending"]})}}export{_e as default};
