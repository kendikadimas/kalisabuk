import{c as w,j as e,L as o,H as v,r as _}from"./app-yOa8DCDz.js";import{D as y,a as D,b as k,d as p,A}from"./app-sidebar-layout-D9tMsuDr.js";import{B as u}from"./button-CQQmJ9zx.js";import{C,a as B,b as S}from"./card-BTr0wnLW.js";import{B as T}from"./badge-BNhepz4p.js";import{s as f}from"./index-BsxvijQw.js";import{A as E,a as H,b as L,c as M,d as P,e as $,f as I,g as K,h as z}from"./alert-dialog-DwwLXvSp.js";import{a as g}from"./megaphone-Bk7zlvhx.js";import{C as F}from"./calendar-D6_TllAq.js";import{P as j}from"./pencil-BK0medaY.js";import{E as O}from"./ellipsis-DhqSTXtn.js";import{E as R}from"./eye-CQGb8WRV.js";import{T as W}from"./trash-2-DD6jNFG0.js";import{P as q}from"./plus-DPR9UWKZ.js";/* empty css            */import"./index-CF5WEEX2.js";import"./utils-DLPD_Bmr.js";import"./index-HQwHXXa6.js";import"./file-text-BKXQxTdz.js";import"./createLucideIcon-DM4WDn8p.js";import"./building-2-Bq55qfl5.js";import"./tag-BeD5AaPF.js";import"./users-DhK1gUSD.js";import"./x-BhHxfQ75.js";import"./chevron-right-CsoJvuAM.js";import"./index-D7LpBGhX.js";function we(l){const s=w.c(15),{posts:t}=l;let d;s[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"Dashboard",href:"/dashboard"},{title:"Berita",href:"/dashboard/posts"}],s[0]=d):d=s[0];const b=d,N=Q;let c;s[1]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(v,{title:"Kelola Berita"}),s[1]=c):c=s[1];let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:"Kelola Berita"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola berita, artikel, dan informasi publik desa."})]}),s[2]=m):m=s[2];let h;s[3]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[m,e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(o,{href:"/dashboard/posts/create",children:e.jsxs(u,{className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Tulist Berita"]})})})]}),s[3]=h):h=s[3];let r;s[4]!==t.data?(r=t.data.length>0?t.data.map(a=>e.jsxs(C,{className:"group overflow-hidden border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 rounded-2xl flex flex-col h-full",children:[e.jsxs("div",{className:"relative h-48 w-full bg-slate-100 overflow-hidden",children:[a.image_path?e.jsx("img",{src:a.image_path.startsWith("http")?a.image_path:`/storage/${a.image_path}`,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:e.jsx(g,{className:"w-12 h-12"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(T,{variant:"secondary",className:"bg-white/90 backdrop-blur text-slate-700 shadow-sm text-xs font-normal",children:a.category?.name||"Berita"})})]}),e.jsxs(B,{className:"p-5 flex-1 flex flex-col gap-3",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2 leading-tight group-hover:text-emerald-600 transition-colors",children:a.title}),e.jsx("p",{className:"text-slate-500 text-sm line-clamp-3 leading-relaxed",children:a.content?a.content.replace(/<[^>]*>?/gm,""):"Tidak ada deskripsi singkat."}),e.jsxs("div",{className:"mt-auto pt-2 flex items-center gap-2 text-xs text-slate-400",children:[e.jsx(F,{className:"w-3.5 h-3.5"}),a.published_at?new Date(a.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"Draft"]})]}),e.jsxs(S,{className:"p-4 pt-0 border-t border-slate-100 mt-auto bg-slate-50/50 flex justify-between items-center",children:[e.jsx(o,{href:f("posts.edit",a.id),children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-emerald-600 hover:bg-white text-xs gap-2",children:[e.jsx(j,{className:"w-3.5 h-3.5"}),"Edit"]})}),e.jsxs(y,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(u,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-white",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(O,{className:"h-4 w-4"})]})}),e.jsxs(k,{align:"end",children:[e.jsx(p,{asChild:!0,children:e.jsxs(o,{href:`/berita/${a.slug}`,target:"_blank",className:"cursor-pointer",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Lihat Berita"]})}),e.jsx(p,{asChild:!0,children:e.jsxs(o,{href:f("posts.edit",a.id),className:"cursor-pointer",children:[e.jsx(j,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(E,{children:[e.jsx(H,{asChild:!0,children:e.jsxs(p,{onSelect:J,className:"text-red-600 focus:text-red-600 focus:bg-red-50 cursor-pointer",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Hapus"]})}),e.jsxs(L,{children:[e.jsxs(M,{children:[e.jsx(P,{children:"Hapus Berita?"}),e.jsx($,{children:"Apakah Anda yakin ingin menghapus berita ini? Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs(I,{children:[e.jsx(K,{children:"Batal"}),e.jsx(z,{onClick:()=>N(a.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]})]})]})]},a.id)):e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-8 h-8 text-slate-300"})}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Belum ada berita yang dipublikasikan."}),e.jsx(o,{href:"/dashboard/posts/create",className:"text-emerald-600 text-sm font-medium hover:underline mt-2 inline-block",children:"Mulai menulis berita"})]}),s[4]=t.data,s[5]=r):r=s[5];let i;s[6]!==r?(i=e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r}),s[6]=r,s[7]=i):i=s[7];let n;s[8]!==t.current_page||s[9]!==t.last_page||s[10]!==t.links?(n=t.links&&t.links.length>3&&e.jsx("div",{className:"bg-slate-50/50 px-6 py-4 border-t border-slate-200 mt-8 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Halaman ",t.current_page," dari ",t.last_page]}),e.jsx("div",{className:"flex gap-1",children:t.links.map(G)})]})}),s[8]=t.current_page,s[9]=t.last_page,s[10]=t.links,s[11]=n):n=s[11];let x;return s[12]!==i||s[13]!==n?(x=e.jsxs(A,{breadcrumbs:b,children:[c,e.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[h,i,n]})]}),s[12]=i,s[13]=n,s[14]=x):x=s[14],x}function G(l,s){return e.jsx(o,{href:l.url||"#",className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${l.active?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"} ${!l.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:l.label}},s)}function J(l){return l.preventDefault()}function Q(l){_.delete(f("posts.destroy",l),{preserveScroll:!0})}export{we as default};
