import{c as Ke,b as be,u as Te,s as ce,j as t,H as Fe,L as Be,r as Ee}from"./app-DRj50MeH.js";import{A as Pe}from"./app-sidebar-layout-CUMweJvQ.js";import{B as o}from"./button-oWo3OGIv.js";import{C as He,b as Le,c as Ie,d as Oe,a as ze}from"./card-M4hUgGjq.js";import{D as ve,b as _e,a as qe,c as Ne,d as ye,e as Ce}from"./dialog-DjD5iO4i.js";import{I as Se}from"./input-FAu1Ndof.js";import{L as H}from"./label-OzXnAUrX.js";import{T as ke}from"./textarea-kxcvtXmW.js";import{S as De}from"./switch-DbHrJJHe.js";import{A as Re,a as $e,b as Ge,c as Je,d as Me,e as Qe,f as Ue,g as Ve,h as We}from"./alert-dialog-BfZC7dyn.js";import{A as Xe}from"./arrow-left-CYEOuhsI.js";import{P as Ye}from"./plus-BhceMSA5.js";import{P as Ze}from"./pencil-Bo5ktmLg.js";import{T as et}from"./trash-2-D4xzVGIW.js";import{F as tt}from"./file-text-DBjq8uFb.js";/* empty css            */import"./index-CRTMRMdX.js";import"./utils-gLV_EznK.js";import"./index-l5JpYZdG.js";import"./users-DhOvD3BU.js";import"./createLucideIcon-D5NN6LrS.js";import"./building-2-BYOCZgkn.js";import"./tag-CyATZ3Kh.js";import"./chart-pie-BQUI34Vm.js";import"./x-D3TJDaQ5.js";import"./index-DzzU8GrE.js";import"./use-sync-refs-COYW2Veg.js";function Kt(de){const e=Ke.c(107),{categories:me}=de;let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=[{title:"Dashboard",href:"/dashboard"},{title:"Berita",href:"/dashboard/posts"},{title:"Kategori",href:"#"}],e[0]=O):O=e[0];const we=O,[he,z]=be.useState(!1),[L,q]=be.useState(null);let R;e[1]===Symbol.for("react.memo_cache_sentinel")?(R={name:"",description:"",is_active:!0},e[1]=R):R=e[1];const{data:i,setData:a,post:xe,put:pe,processing:c,errors:r,reset:l,clearErrors:d}=Te(R);let $;e[2]!==d||e[3]!==l?($=()=>{l(),d(),z(!0)},e[2]=d,e[3]=l,e[4]=$):$=e[4];const fe=$;let G;e[5]!==d||e[6]!==l||e[7]!==a?(G=s=>{l(),d(),q(s),a({name:s.name,description:s.description||"",is_active:!!s.is_active})},e[5]=d,e[6]=l,e[7]=a,e[8]=G):G=e[8];const I=G;let J;e[9]!==xe||e[10]!==l?(J=s=>{s.preventDefault(),xe(ce("post-categories.store"),{onSuccess:()=>{z(!1),l()}})},e[9]=xe,e[10]=l,e[11]=J):J=e[11];const ue=J;let M;e[12]!==L||e[13]!==pe||e[14]!==l?(M=s=>{s.preventDefault(),L&&pe(ce("post-categories.update",L.id),{onSuccess:()=>{q(null),l()}})},e[12]=L,e[13]=pe,e[14]=l,e[15]=M):M=e[15];const je=M,Ae=st;let Q;e[16]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(Fe,{title:"Kategori Berita"}),e[16]=Q):Q=e[16];let U;e[17]===Symbol.for("react.memo_cache_sentinel")?(U=ce("posts.index"),e[17]=U):U=e[17];let V;e[18]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Be,{href:U,children:t.jsx(o,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl border-slate-200",children:t.jsx(Xe,{className:"w-5 h-5 text-slate-500"})})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Kategori Berita"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Kelola kategori untuk berita dan artikel desa."})]})]}),e[18]=V):V=e[18];let W;e[19]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Ye,{className:"w-4 h-4 mr-2"}),e[19]=W):W=e[19];let m;e[20]!==fe?(m=t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[V,t.jsxs(o,{onClick:fe,className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[W,"Tambah Kategori"]})]}),e[20]=fe,e[21]=m):m=e[21];let h;if(e[22]!==me||e[23]!==I){let s;e[25]!==I?(s=n=>t.jsxs(He,{className:"hover:shadow-lg transition-shadow border-slate-200 overflow-hidden group",children:[t.jsxs(Le,{className:"bg-white pb-4 relative",children:[t.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx(o,{variant:"ghost",size:"icon",onClick:()=>I(n),className:"h-8 w-8 text-slate-400 hover:text-blue-600",children:t.jsx(Ze,{className:"w-4 h-4"})}),t.jsxs(Re,{children:[t.jsx($e,{asChild:!0,children:t.jsx(o,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-red-600",children:t.jsx(et,{className:"w-4 h-4"})})}),t.jsxs(Ge,{children:[t.jsxs(Je,{children:[t.jsx(Me,{children:"Hapus Kategori?"}),t.jsxs(Qe,{children:['Kategori "',n.name,'" akan dihapus. Pastikan tidak ada berita yang menggunakan kategori ini.']})]}),t.jsxs(Ue,{children:[t.jsx(Ve,{children:"Batal"}),t.jsx(We,{onClick:()=>Ae(n.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]}),t.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 mb-4",children:t.jsx(tt,{className:"w-6 h-6"})}),t.jsx(Ie,{className:"text-xl text-slate-900",children:n.name}),t.jsx(Oe,{className:"line-clamp-2 mt-1",children:n.description||"Tidak ada deskripsi"})]}),t.jsx(ze,{children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 pt-4 border-t border-slate-100",children:[t.jsx("span",{children:"Status"}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${n.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:n.is_active?"Aktif":"Non-Aktif"})]})})]},n.id),e[25]=I,e[26]=s):s=e[26],h=me.map(s),e[22]=me,e[23]=I,e[24]=h}else h=e[24];let x;e[27]!==h?(x=t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h}),e[27]=h,e[28]=x):x=e[28];let X;e[29]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsxs(ve,{children:[t.jsx(_e,{children:"Tambah Kategori"}),t.jsx(qe,{children:"Buat kategori baru untuk pengelompokan berita desa."})]}),e[29]=X):X=e[29];let Y;e[30]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsxs(H,{htmlFor:"name",children:["Nama Kategori ",t.jsx("span",{className:"text-red-500",children:"*"})]}),e[30]=Y):Y=e[30];let p;e[31]!==a?(p=s=>a("name",s.target.value),e[31]=a,e[32]=p):p=e[32];let f;e[33]!==i.name||e[34]!==p?(f=t.jsx(Se,{id:"name",value:i.name,onChange:p,placeholder:"Contoh: Kegiatan Desa, Pengumuman",required:!0}),e[33]=i.name,e[34]=p,e[35]=f):f=e[35];let u;e[36]!==r.name?(u=r.name&&t.jsx("p",{className:"text-red-500 text-xs",children:r.name}),e[36]=r.name,e[37]=u):u=e[37];let j;e[38]!==f||e[39]!==u?(j=t.jsxs("div",{className:"space-y-2",children:[Y,f,u]}),e[38]=f,e[39]=u,e[40]=j):j=e[40];let Z;e[41]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(H,{htmlFor:"description",children:"Deskripsi"}),e[41]=Z):Z=e[41];let g;e[42]!==a?(g=s=>a("description",s.target.value),e[42]=a,e[43]=g):g=e[43];let b;e[44]!==i.description||e[45]!==g?(b=t.jsxs("div",{className:"space-y-2",children:[Z,t.jsx(ke,{id:"description",value:i.description,onChange:g,placeholder:"Deskripsi singkat..."})]}),e[44]=i.description,e[45]=g,e[46]=b):b=e[46];let ee;e[47]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(H,{htmlFor:"active",className:"cursor-pointer",children:"Status Aktif"}),e[47]=ee):ee=e[47];let v;e[48]!==a?(v=s=>a("is_active",s),e[48]=a,e[49]=v):v=e[49];let _;e[50]!==i.is_active||e[51]!==v?(_=t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100",children:[ee,t.jsx(De,{id:"active",checked:i.is_active,onCheckedChange:v})]}),e[50]=i.is_active,e[51]=v,e[52]=_):_=e[52];let te;e[53]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(o,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Batal"}),e[53]=te):te=e[53];let N;e[54]!==c?(N=t.jsxs(Ne,{children:[te,t.jsx(o,{type:"submit",disabled:c,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan"})]}),e[54]=c,e[55]=N):N=e[55];let y;e[56]!==ue||e[57]!==j||e[58]!==b||e[59]!==_||e[60]!==N?(y=t.jsxs(ye,{children:[X,t.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[j,b,_,N]})]}),e[56]=ue,e[57]=j,e[58]=b,e[59]=_,e[60]=N,e[61]=y):y=e[61];let C;e[62]!==he||e[63]!==y?(C=t.jsx(Ce,{open:he,onOpenChange:z,children:y}),e[62]=he,e[63]=y,e[64]=C):C=e[64];const ge=!!L;let se;e[65]===Symbol.for("react.memo_cache_sentinel")?(se=s=>!s&&q(null),e[65]=se):se=e[65];let ae;e[66]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ve,{children:t.jsx(_e,{children:"Edit Kategori"})}),e[66]=ae):ae=e[66];let ie;e[67]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsxs(H,{htmlFor:"edit-name",children:["Nama Kategori ",t.jsx("span",{className:"text-red-500",children:"*"})]}),e[67]=ie):ie=e[67];let S;e[68]!==a?(S=s=>a("name",s.target.value),e[68]=a,e[69]=S):S=e[69];let k;e[70]!==i.name||e[71]!==S?(k=t.jsx(Se,{id:"edit-name",value:i.name,onChange:S,required:!0}),e[70]=i.name,e[71]=S,e[72]=k):k=e[72];let D;e[73]!==r.name?(D=r.name&&t.jsx("p",{className:"text-red-500 text-xs",children:r.name}),e[73]=r.name,e[74]=D):D=e[74];let w;e[75]!==k||e[76]!==D?(w=t.jsxs("div",{className:"space-y-2",children:[ie,k,D]}),e[75]=k,e[76]=D,e[77]=w):w=e[77];let le;e[78]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(H,{htmlFor:"edit-description",children:"Deskripsi"}),e[78]=le):le=e[78];let A;e[79]!==a?(A=s=>a("description",s.target.value),e[79]=a,e[80]=A):A=e[80];let K;e[81]!==i.description||e[82]!==A?(K=t.jsxs("div",{className:"space-y-2",children:[le,t.jsx(ke,{id:"edit-description",value:i.description,onChange:A})]}),e[81]=i.description,e[82]=A,e[83]=K):K=e[83];let re;e[84]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(H,{htmlFor:"edit-active",className:"cursor-pointer",children:"Status Aktif"}),e[84]=re):re=e[84];let T;e[85]!==a?(T=s=>a("is_active",s),e[85]=a,e[86]=T):T=e[86];let F;e[87]!==i.is_active||e[88]!==T?(F=t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded border border-slate-100",children:[re,t.jsx(De,{id:"edit-active",checked:i.is_active,onCheckedChange:T})]}),e[87]=i.is_active,e[88]=T,e[89]=F):F=e[89];let ne;e[90]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx(o,{type:"button",variant:"outline",onClick:()=>q(null),children:"Batal"}),e[90]=ne):ne=e[90];let B;e[91]!==c?(B=t.jsxs(Ne,{children:[ne,t.jsx(o,{type:"submit",disabled:c,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan Perubahan"})]}),e[91]=c,e[92]=B):B=e[92];let E;e[93]!==je||e[94]!==w||e[95]!==K||e[96]!==F||e[97]!==B?(E=t.jsxs(ye,{children:[ae,t.jsxs("form",{onSubmit:je,className:"space-y-4",children:[w,K,F,B]})]}),e[93]=je,e[94]=w,e[95]=K,e[96]=F,e[97]=B,e[98]=E):E=e[98];let P;e[99]!==ge||e[100]!==E?(P=t.jsx(Ce,{open:ge,onOpenChange:se,children:E}),e[99]=ge,e[100]=E,e[101]=P):P=e[101];let oe;return e[102]!==m||e[103]!==x||e[104]!==C||e[105]!==P?(oe=t.jsxs(Pe,{breadcrumbs:we,children:[Q,t.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[m,x,C,P]})]}),e[102]=m,e[103]=x,e[104]=C,e[105]=P,e[106]=oe):oe=e[106],oe}function st(de){Ee.delete(ce("post-categories.destroy",de),{preserveScroll:!0})}export{Kt as default};
