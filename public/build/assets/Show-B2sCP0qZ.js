import{c as vs,b as Ve,u as Ns,s as We,j as s,r as js,H as ys,L as _s}from"./app-l_r44Tta.js";import{A as Ss}from"./app-sidebar-layout-CELMoP9V.js";import{B as g}from"./button-rFL2r0LF.js";import{I as p}from"./input-D-LpVu4u.js";import{L as j}from"./label-BadVixbH.js";import{C as Cs,c as ws,b as ks,a as As}from"./card-Dz5_2j39.js";import{T as cs,a as je,d as Ds,b as Ts,c as be,e as Fs}from"./table-Ctwi8VEU.js";import{D as ms,a as Is,b as ds,c as os,d as hs,e as fs}from"./dialog-C6Fe1f68.js";import{A as Ls,a as Hs,b as Bs,c as Es,d as Os,e as Ps,f as Gs,g as Rs,h as zs}from"./alert-dialog-hdSVmFnX.js";import{S as xs}from"./switch-C2XSklPz.js";import{B as $s}from"./badge-BEAsJpim.js";import{I as gs}from"./megaphone-CIBuywf6.js";import{M as qs}from"./map-pin-DZzb2F5s.js";import{P as Ms}from"./pencil-CcQttdl9.js";import{T as Ks}from"./trash-2-UVBwinBZ.js";import{A as Js}from"./arrow-left-bCx9DGyL.js";import{P as Qs}from"./plus-CtC8UoKy.js";import{S as Us}from"./tag-m4tYlLRa.js";/* empty css            */import"./index-rJEZdxyx.js";import"./utils-Bev5jZCE.js";import"./index-C6gsZ6l_.js";import"./file-text-CACgX_in.js";import"./createLucideIcon-CnD_5xEh.js";import"./users-BE9RTcez.js";import"./building-2-CHKmSFZ9.js";import"./x-BdGwfma3.js";import"./chevron-right-BAycoYV7.js";import"./index-CHnsnSIb.js";import"./use-sync-refs-Bw5xmnPG.js";function wt(Xe){const e=vs.c(196),{category:l}=Xe;let ue,ve;e[0]===Symbol.for("react.memo_cache_sentinel")?(ue={title:"Dashboard",href:"/dashboard"},ve={title:"Fasilitas Desa",href:"/dashboard/facilities"},e[0]=ue,e[1]=ve):(ue=e[0],ve=e[1]);let Ne;e[2]!==l.name?(Ne=[ue,ve,{title:l.name,href:"#"}],e[2]=l.name,e[3]=Ne):Ne=e[3];const Ye=Ne,[Ze,ye]=Ve.useState(!1),[m,_e]=Ve.useState(null),[d,ps]=Ve.useState("");let Se;e[4]!==l.id?(Se={facility_category_id:l.id,name:"",address:"",image:null,is_active:!0},e[4]=l.id,e[5]=Se):Se=e[5];const{data:i,setData:a,post:es,processing:b,errors:c,reset:n,clearErrors:u}=Ns(Se);Ve.useRef(null);let Ce;e[6]!==l.id||e[7]!==u||e[8]!==n||e[9]!==a?(Ce=()=>{n(),u(),a(t=>({...t,facility_category_id:l.id})),ye(!0)},e[6]=l.id,e[7]=u,e[8]=n,e[9]=a,e[10]=Ce):Ce=e[10];const pe=Ce;let we;e[11]!==l.id||e[12]!==u||e[13]!==n||e[14]!==a?(we=t=>{n(),u(),_e(t),a({facility_category_id:l.id,name:t.name,address:t.address||"",image:null,is_active:!!t.is_active})},e[11]=l.id,e[12]=u,e[13]=n,e[14]=a,e[15]=we):we=e[15];const ss=we;let ke;e[16]!==es||e[17]!==n?(ke=t=>{t.preventDefault(),es(We("facility-items.store"),{onSuccess:()=>{ye(!1),n()}})},e[16]=es,e[17]=n,e[18]=ke):ke=e[18];const ts=ke;let Ae;e[19]!==i||e[20]!==m||e[21]!==n?(Ae=t=>{t.preventDefault(),m&&js.post(We("facility-items.update",m.id),{_method:"put",...i},{onSuccess:()=>{_e(null),n()}})},e[19]=i,e[20]=m,e[21]=n,e[22]=Ae):Ae=e[22];const as=Ae,bs=Vs;let v,N,y,_,S,o,C,w,h,k,f,A,x,D;if(e[23]!==Ye||e[24]!==l.description||e[25]!==l.items||e[26]!==l.name||e[27]!==pe||e[28]!==ss||e[29]!==d){let t;e[44]!==d?(t=r=>r.name.toLowerCase().includes(d.toLowerCase())||r.address&&r.address.toLowerCase().includes(d.toLowerCase()),e[44]=d,e[45]=t):t=e[45];const ns=l.items.filter(t);S=Ss,A=Ye;const is=`Fasilitas: ${l.name}`;e[46]!==is?(x=s.jsx(ys,{title:is}),e[46]=is,e[47]=x):x=e[47],k="p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full";let qe;e[48]===Symbol.for("react.memo_cache_sentinel")?(qe=We("facilities.index"),e[48]=qe):qe=e[48];let Me;e[49]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx(_s,{href:qe,children:s.jsx(g,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-xl border-slate-200",children:s.jsx(Js,{className:"w-5 h-5 text-slate-500"})})}),e[49]=Me):Me=e[49];let he;e[50]!==l.name?(he=s.jsx("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:l.name}),e[50]=l.name,e[51]=he):he=e[51];const rs=l.description||"Kelola item fasilitas untuk kategori ini.";let fe;e[52]!==rs?(fe=s.jsx("p",{className:"text-slate-500 text-sm",children:rs}),e[52]=rs,e[53]=fe):fe=e[53];let xe;e[54]!==he||e[55]!==fe?(xe=s.jsxs("div",{className:"flex items-center gap-4",children:[Me,s.jsxs("div",{children:[he,fe]})]}),e[54]=he,e[55]=fe,e[56]=xe):xe=e[56];let Ke;e[57]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsx(Qs,{className:"w-4 h-4 mr-2"}),e[57]=Ke):Ke=e[57];let ge;e[58]!==pe?(ge=s.jsxs(g,{onClick:pe,className:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-600/20 rounded-xl",children:[Ke,"Tambah Item"]}),e[58]=pe,e[59]=ge):ge=e[59],e[60]!==xe||e[61]!==ge?(f=s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[xe,ge]}),e[60]=xe,e[61]=ge,e[62]=f):f=e[62],_=Cs,w="border-slate-200 shadow-sm rounded-xl overflow-hidden";let Je;e[63]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsx(ws,{children:"Daftar Item Fasilitas"}),e[63]=Je):Je=e[63];let Qe;e[64]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx(Us,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"}),e[64]=Qe):Qe=e[64];let Ue;e[65]===Symbol.for("react.memo_cache_sentinel")?(Ue=r=>ps(r.target.value),e[65]=Ue):Ue=e[65],e[66]!==d?(h=s.jsx(ks,{className:"border-b border-slate-100 bg-slate-50/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[Je,s.jsxs("div",{className:"relative w-full max-w-sm",children:[Qe,s.jsx(p,{placeholder:"Cari item...",value:d,onChange:Ue,className:"pl-9 h-9"})]})]})}),e[66]=d,e[67]=h):h=e[67],y=As,C="p-0",N=Ds,e[68]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(Ts,{children:s.jsxs(cs,{children:[s.jsx(be,{className:"w-[50px] text-center",children:"#"}),s.jsx(be,{children:"Nama Item"}),s.jsx(be,{children:"Alamat / Lokasi"}),s.jsx(be,{children:"Status"}),s.jsx(be,{className:"text-right",children:"Aksi"})]})}),e[68]=o):o=e[68],v=Fs,D=ns.length>0?ns.map((r,us)=>s.jsxs(cs,{className:"hover:bg-slate-50/50",children:[s.jsx(je,{className:"text-center font-medium text-slate-500",children:us+1}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[r.image?s.jsx("img",{src:`/storage/${r.image}`,alt:r.name,className:"w-10 h-10 rounded-lg object-cover bg-slate-100"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:s.jsx(gs,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-semibold text-slate-900",children:r.name})]})}),s.jsx(je,{className:"text-slate-600",children:r.address?s.jsxs("div",{className:"flex items-start gap-1.5",children:[s.jsx(qs,{className:"w-3.5 h-3.5 text-slate-400 mt-0.5"}),s.jsx("span",{className:"text-sm",children:r.address})]}):s.jsx("span",{className:"text-slate-400 italic text-sm",children:"-"})}),s.jsx(je,{children:s.jsx($s,{variant:r.is_active?"default":"secondary",className:r.is_active?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-slate-100 text-slate-500 hover:bg-slate-200",children:r.is_active?"Aktif":"Non-Aktif"})}),s.jsx(je,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(g,{variant:"ghost",size:"icon",onClick:()=>ss(r),className:"h-8 w-8 text-blue-600 hover:bg-blue-50",children:s.jsx(Ms,{className:"w-4 h-4"})}),s.jsxs(Ls,{children:[s.jsx(Hs,{asChild:!0,children:s.jsx(g,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-50",children:s.jsx(Ks,{className:"w-4 h-4"})})}),s.jsxs(Bs,{children:[s.jsxs(Es,{children:[s.jsx(Os,{children:"Hapus Item?"}),s.jsxs(Ps,{children:['Apakah Anda yakin ingin menghapus "',r.name,'"?']})]}),s.jsxs(Gs,{children:[s.jsx(Rs,{children:"Batal"}),s.jsx(zs,{onClick:()=>bs(r.id),className:"bg-red-600 hover:bg-red-700",children:"Hapus"})]})]})]})]})})]},r.id)):s.jsx(cs,{children:s.jsx(je,{colSpan:5,className:"h-24 text-center text-slate-500",children:"Tidak ada item fasilitas dalam kategori ini."})}),e[23]=Ye,e[24]=l.description,e[25]=l.items,e[26]=l.name,e[27]=pe,e[28]=ss,e[29]=d,e[30]=v,e[31]=N,e[32]=y,e[33]=_,e[34]=S,e[35]=o,e[36]=C,e[37]=w,e[38]=h,e[39]=k,e[40]=f,e[41]=A,e[42]=x,e[43]=D}else v=e[30],N=e[31],y=e[32],_=e[33],S=e[34],o=e[35],C=e[36],w=e[37],h=e[38],k=e[39],f=e[40],A=e[41],x=e[42],D=e[43];let T;e[69]!==v||e[70]!==D?(T=s.jsx(v,{children:D}),e[69]=v,e[70]=D,e[71]=T):T=e[71];let F;e[72]!==N||e[73]!==o||e[74]!==T?(F=s.jsxs(N,{children:[o,T]}),e[72]=N,e[73]=o,e[74]=T,e[75]=F):F=e[75];let I;e[76]!==y||e[77]!==C||e[78]!==F?(I=s.jsx(y,{className:C,children:F}),e[76]=y,e[77]=C,e[78]=F,e[79]=I):I=e[79];let L;e[80]!==_||e[81]!==w||e[82]!==h||e[83]!==I?(L=s.jsxs(_,{className:w,children:[h,I]}),e[80]=_,e[81]=w,e[82]=h,e[83]=I,e[84]=L):L=e[84];let De;e[85]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(ds,{children:"Tambah Item Fasilitas"}),e[85]=De):De=e[85];let H;e[86]!==l.name?(H=s.jsxs(ms,{children:[De,s.jsxs(Is,{children:["Tambahkan item baru ke dalam kategori ",l.name]})]}),e[86]=l.name,e[87]=H):H=e[87];let Te;e[88]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsxs(j,{htmlFor:"create-name",children:["Nama Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),e[88]=Te):Te=e[88];let B;e[89]!==a?(B=t=>a("name",t.target.value),e[89]=a,e[90]=B):B=e[90];let E;e[91]!==i.name||e[92]!==B?(E=s.jsx(p,{id:"create-name",value:i.name,onChange:B,placeholder:"Contoh: SD Negeri 1",required:!0}),e[91]=i.name,e[92]=B,e[93]=E):E=e[93];let O;e[94]!==c.name?(O=c.name&&s.jsx("p",{className:"text-red-500 text-xs",children:c.name}),e[94]=c.name,e[95]=O):O=e[95];let P;e[96]!==E||e[97]!==O?(P=s.jsxs("div",{className:"space-y-2",children:[Te,E,O]}),e[96]=E,e[97]=O,e[98]=P):P=e[98];let Fe;e[99]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx(j,{htmlFor:"create-address",children:"Alamat (Opsional)"}),e[99]=Fe):Fe=e[99];let G;e[100]!==a?(G=t=>a("address",t.target.value),e[100]=a,e[101]=G):G=e[101];let R;e[102]!==i.address||e[103]!==G?(R=s.jsxs("div",{className:"space-y-2",children:[Fe,s.jsx(p,{id:"create-address",value:i.address,onChange:G,placeholder:"Alamat lengkap..."})]}),e[102]=i.address,e[103]=G,e[104]=R):R=e[104];let Ie;e[105]===Symbol.for("react.memo_cache_sentinel")?(Ie=s.jsx(j,{htmlFor:"create-image",children:"Gambar (Opsional)"}),e[105]=Ie):Ie=e[105];let z;e[106]!==a?(z=s.jsx(p,{id:"create-image",type:"file",onChange:t=>a("image",t.target.files?t.target.files[0]:null),accept:"image/*"}),e[106]=a,e[107]=z):z=e[107];let $;e[108]!==c.image?($=c.image&&s.jsx("p",{className:"text-red-500 text-xs",children:c.image}),e[108]=c.image,e[109]=$):$=e[109];let q;e[110]!==z||e[111]!==$?(q=s.jsxs("div",{className:"space-y-2",children:[Ie,z,$]}),e[110]=z,e[111]=$,e[112]=q):q=e[112];let Le;e[113]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsx(j,{htmlFor:"create-active",className:"cursor-pointer",children:"Status Aktif"}),e[113]=Le):Le=e[113];let M;e[114]!==a?(M=t=>a("is_active",t),e[114]=a,e[115]=M):M=e[115];let K;e[116]!==i.is_active||e[117]!==M?(K=s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded bg-slate-50 border border-slate-100",children:[Le,s.jsx(xs,{id:"create-active",checked:i.is_active,onCheckedChange:M})]}),e[116]=i.is_active,e[117]=M,e[118]=K):K=e[118];let He;e[119]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx(g,{type:"button",variant:"outline",onClick:()=>ye(!1),children:"Batal"}),e[119]=He):He=e[119];let J;e[120]!==b?(J=s.jsxs(os,{children:[He,s.jsx(g,{type:"submit",disabled:b,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan"})]}),e[120]=b,e[121]=J):J=e[121];let Q;e[122]!==ts||e[123]!==P||e[124]!==R||e[125]!==q||e[126]!==K||e[127]!==J?(Q=s.jsxs("form",{onSubmit:ts,className:"space-y-4",children:[P,R,q,K,J]}),e[122]=ts,e[123]=P,e[124]=R,e[125]=q,e[126]=K,e[127]=J,e[128]=Q):Q=e[128];let U;e[129]!==H||e[130]!==Q?(U=s.jsxs(hs,{children:[H,Q]}),e[129]=H,e[130]=Q,e[131]=U):U=e[131];let V;e[132]!==Ze||e[133]!==U?(V=s.jsx(fs,{open:Ze,onOpenChange:ye,children:U}),e[132]=Ze,e[133]=U,e[134]=V):V=e[134];const ls=!!m;let Be;e[135]===Symbol.for("react.memo_cache_sentinel")?(Be=t=>!t&&_e(null),e[135]=Be):Be=e[135];let Ee;e[136]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(ms,{children:s.jsx(ds,{children:"Edit Item Fasilitas"})}),e[136]=Ee):Ee=e[136];let Oe;e[137]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsxs(j,{htmlFor:"edit-name",children:["Nama Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),e[137]=Oe):Oe=e[137];let W;e[138]!==a?(W=t=>a("name",t.target.value),e[138]=a,e[139]=W):W=e[139];let X;e[140]!==i.name||e[141]!==W?(X=s.jsx(p,{id:"edit-name",value:i.name,onChange:W,required:!0}),e[140]=i.name,e[141]=W,e[142]=X):X=e[142];let Y;e[143]!==c.name?(Y=c.name&&s.jsx("p",{className:"text-red-500 text-xs",children:c.name}),e[143]=c.name,e[144]=Y):Y=e[144];let Z;e[145]!==X||e[146]!==Y?(Z=s.jsxs("div",{className:"space-y-2",children:[Oe,X,Y]}),e[145]=X,e[146]=Y,e[147]=Z):Z=e[147];let Pe;e[148]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsx(j,{htmlFor:"edit-address",children:"Alamat (Opsional)"}),e[148]=Pe):Pe=e[148];let ee;e[149]!==a?(ee=t=>a("address",t.target.value),e[149]=a,e[150]=ee):ee=e[150];let se;e[151]!==i.address||e[152]!==ee?(se=s.jsxs("div",{className:"space-y-2",children:[Pe,s.jsx(p,{id:"edit-address",value:i.address,onChange:ee})]}),e[151]=i.address,e[152]=ee,e[153]=se):se=e[153];let Ge;e[154]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx(j,{htmlFor:"edit-image",children:"Ganti Gambar (Opsional)"}),e[154]=Ge):Ge=e[154];let te;e[155]!==a?(te=s.jsx(p,{id:"edit-image",type:"file",onChange:t=>a("image",t.target.files?t.target.files[0]:null),accept:"image/*"}),e[155]=a,e[156]=te):te=e[156];let ae;e[157]!==c.image?(ae=c.image&&s.jsx("p",{className:"text-red-500 text-xs",children:c.image}),e[157]=c.image,e[158]=ae):ae=e[158];let le;e[159]!==i.image||e[160]!==m?(le=m&&m.image&&!i.image&&s.jsxs("div",{className:"p-2 border border-slate-200 rounded text-xs text-slate-500 flex items-center gap-2",children:[s.jsx(gs,{className:"w-3 h-3"})," Gambar saat ini terpasang (biarkan kosong jika tidak ingin mengubah)"]}),e[159]=i.image,e[160]=m,e[161]=le):le=e[161];let ie;e[162]!==te||e[163]!==ae||e[164]!==le?(ie=s.jsxs("div",{className:"space-y-2",children:[Ge,te,ae,le]}),e[162]=te,e[163]=ae,e[164]=le,e[165]=ie):ie=e[165];let Re;e[166]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(j,{htmlFor:"edit-active",className:"cursor-pointer",children:"Status Aktif"}),e[166]=Re):Re=e[166];let re;e[167]!==a?(re=t=>a("is_active",t),e[167]=a,e[168]=re):re=e[168];let ce;e[169]!==i.is_active||e[170]!==re?(ce=s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded bg-slate-50 border border-slate-100",children:[Re,s.jsx(xs,{id:"edit-active",checked:i.is_active,onCheckedChange:re})]}),e[169]=i.is_active,e[170]=re,e[171]=ce):ce=e[171];let ze;e[172]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx(g,{type:"button",variant:"outline",onClick:()=>_e(null),children:"Batal"}),e[172]=ze):ze=e[172];let ne;e[173]!==b?(ne=s.jsxs(os,{children:[ze,s.jsx(g,{type:"submit",disabled:b,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan Perubahan"})]}),e[173]=b,e[174]=ne):ne=e[174];let me;e[175]!==as||e[176]!==Z||e[177]!==se||e[178]!==ie||e[179]!==ce||e[180]!==ne?(me=s.jsxs(hs,{children:[Ee,s.jsxs("form",{onSubmit:as,className:"space-y-4",children:[Z,se,ie,ce,ne]})]}),e[175]=as,e[176]=Z,e[177]=se,e[178]=ie,e[179]=ce,e[180]=ne,e[181]=me):me=e[181];let de;e[182]!==ls||e[183]!==me?(de=s.jsx(fs,{open:ls,onOpenChange:Be,children:me}),e[182]=ls,e[183]=me,e[184]=de):de=e[184];let oe;e[185]!==k||e[186]!==f||e[187]!==L||e[188]!==V||e[189]!==de?(oe=s.jsxs("div",{className:k,children:[f,L,V,de]}),e[185]=k,e[186]=f,e[187]=L,e[188]=V,e[189]=de,e[190]=oe):oe=e[190];let $e;return e[191]!==S||e[192]!==A||e[193]!==x||e[194]!==oe?($e=s.jsxs(S,{breadcrumbs:A,children:[x,oe]}),e[191]=S,e[192]=A,e[193]=x,e[194]=oe,e[195]=$e):$e=e[195],$e}function Vs(Xe){js.delete(We("facility-items.destroy",Xe),{preserveScroll:!0})}export{wt as default};
