import{c as _,j as e,r as j,H as w}from"./app-wMitSoFD.js";import{A as y}from"./app-sidebar-layout-BbQeEfgX.js";import{B as S}from"./button-1J01fJaS.js";import{S as k,a as T,b as A,d as C,c as g}from"./select-CCGmZnNe.js";import{b as U,T as u,c as d,a as c,d as $,e as R}from"./table-BoVUhnLZ.js";import{C as D,a as H}from"./card-DRineok-.js";import{U as M}from"./users-BraN2y7E.js";import{U as P}from"./user-DqJsCxvC.js";import{S as B}from"./shield-Buyran5-.js";import{T as E}from"./trash-2-D6SY87uV.js";/* empty css            */import"./index-D-uiGpvt.js";import"./utils-BFhDRwOJ.js";import"./index-_U3BcEoK.js";import"./megaphone-D0iDg38j.js";import"./createLucideIcon-BxuBKbhL.js";import"./file-text-BnZf7e92.js";import"./building-2-CGqPBoF8.js";import"./tag-CTFQvZyi.js";import"./x-Cj8rK13U.js";import"./chevron-right-36mRntCf.js";import"./index-D67KVaIK.js";import"./index-Byli9Qi0.js";import"./check-BWKbNlCX.js";import"./chevron-up-Tf5msQkL.js";function he(r){const a=_.c(17),{users:s}=r,b=V,N=L;let o,x;a[0]===Symbol.for("react.memo_cache_sentinel")?(o=[{title:"Dashboard",href:"/dashboard"},{title:"Manajemen Pengguna",href:"#"}],x=e.jsx(w,{title:"Manajemen Pengguna"}),a[0]=o,a[1]=x):(o=a[0],x=a[1]);let h;a[2]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0",children:e.jsx(M,{className:"w-5 h-5 md:w-6 md:h-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-900",children:"Manajemen Pengguna"}),e.jsx("p",{className:"text-slate-500 text-xs md:text-sm",children:"Kelola pengguna dan role akses sistem"})]})]})}),a[2]=h):h=a[2];let p;a[3]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(U,{className:"bg-slate-50",children:e.jsxs(u,{children:[e.jsx(d,{className:"w-[300px]",children:"Pengguna"}),e.jsx(d,{children:"Email"}),e.jsx(d,{children:"Role"}),e.jsx(d,{children:"Terdaftar"}),e.jsx(d,{className:"text-right",children:"Aksi"})]})}),a[3]=p):p=a[3];let n;if(a[4]!==s.data){let t;a[6]===Symbol.for("react.memo_cache_sentinel")?(t=l=>e.jsxs(u,{className:"hover:bg-slate-50/50",children:[e.jsx(c,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-emerald-700 text-sm",children:l.name.charAt(0).toUpperCase()})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-slate-900",children:l.name})})]})}),e.jsx(c,{className:"text-slate-600 font-normal",children:l.email}),e.jsx(c,{children:e.jsxs(k,{value:l.role,onValueChange:v=>b(l.id,v),children:[e.jsx(T,{className:"w-[140px] h-9 border-slate-200 focus:ring-emerald-500/20",children:e.jsx(A,{})}),e.jsxs(C,{children:[e.jsx(g,{value:"user",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{children:"User"})]})}),e.jsx(g,{value:"admin",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-emerald-600"}),e.jsx("span",{children:"Admin"})]})})]})]})}),e.jsx(c,{className:"text-slate-500",children:new Date(l.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}),e.jsx(c,{className:"text-right",children:e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>N(l.id,l.name),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:e.jsx(E,{className:"w-4 h-4"})})})]},l.id),a[6]=t):t=a[6],n=s.data.map(t),a[4]=s.data,a[5]=n}else n=a[5];let i;a[7]!==n?(i=e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(D,{className:"border-slate-200 shadow-sm",children:e.jsx(H,{className:"p-0",children:e.jsxs($,{children:[p,e.jsx(R,{children:n})]})})})}),a[7]=n,a[8]=i):i=a[8];let m;a[9]!==s.current_page||a[10]!==s.data.length||a[11]!==s.last_page||a[12]!==s.total?(m=s.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-slate-500",children:["Menampilkan ",s.data.length," dari ",s.total," pengguna"]}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:s.last_page},I).map(t=>e.jsx("button",{onClick:()=>j.get(`/dashboard/users?page=${t}`),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${t===s.current_page?"bg-emerald-600 text-white shadow-sm":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-200"}`,children:t},t))})]}),a[9]=s.current_page,a[10]=s.data.length,a[11]=s.last_page,a[12]=s.total,a[13]=m):m=a[13];let f;return a[14]!==i||a[15]!==m?(f=e.jsxs(y,{breadcrumbs:o,children:[x,e.jsxs("div",{className:"p-6 md:p-8 space-y-8 bg-slate-50/50 min-h-full",children:[h,i,m]})]}),a[14]=i,a[15]=m,a[16]=f):f=a[16],f}function I(r,a){return a+1}function L(r,a){confirm(`Apakah Anda yakin ingin menghapus pengguna "${a}"? Tindakan ini tidak dapat dibatalkan.`)&&j.delete(`/dashboard/users/${r}`)}function V(r,a){confirm("Apakah Anda yakin ingin mengubah role pengguna ini?")&&j.post(`/dashboard/users/${r}/role`,{role:a})}export{he as default};
